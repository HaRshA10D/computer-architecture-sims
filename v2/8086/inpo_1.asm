
;infix to postfix for all signs

;ASCII VALUES
; / = 47
; * = 42      
; - = 45
; + = 43

;THE CHARACTERS ARE SCANNED IN AH (ALSO MAKE AL=AH)   

;INCREMENT AL BY 4 TO MAKE 46 IF AH =42 (FOR MAKING EASY COMPARISION) 


 
org 100h

a DB 'A*B-C*D/F+E+O',0;      OUTPUT AT LOCATION 1000H
MOV DI,0;
MOV BX,1000H;
MOV DI,0;           ; POINTS TO INPUT STRING
MOV SI,0;           ; POINTS TO OUTPUT STRING
 
MOV AX,0;   
PUSH AX; INITIALIZING STACK WITH ZERO VALUE ,REPRESENTING USING ZERO IF STACK IS EMPTY

LOOP1:
MOV AH,a[DI];
MOV AL,AH;      ;MAKING AL=AH FOR COMPARISIONS
CMP AH,42;
JNZ SKIPM:
ADD AL,4;


SKIPM:
CMP AL,0;
JZ END;  
CMP DI,1;
JZ  DIR_PUSH;

CMP AL,64;
JC SIGN;
JMP NO_SIGN;


NO_SIGN:
MOV [BX+SI],AH;
INC SI;
INC DI;
JMP LOOP1;
 
SIGN:

    
LOOP_IN:
POP CX;
CMP CH,0;
JNZ COMPARE_PRECEDENCE;
JMP END_OF_STACK;    
    
COMPARE_PRECEDENCE:
CMP AL,CL;
JNC INSERT;
JMP REMOVE;

INSERT:
PUSH CX;
PUSH AX;
INC DI;
JMP LOOP1;


             
REMOVE:
MOV [BX+SI],CH;
INC SI;
JMP LOOP_IN;
             
 
 
 
    
DIR_PUSH:
PUSH AX;
INC DI;
JMP LOOP1;  


END_OF_STACK:
PUSH CX;
PUSH AX;
INC DI;
JMP LOOP1;


  
    
END:       

WRITE_END:                  ;NEEDED AFTER COMPLETION OF STRING
POP AX;
CMP AX,0;
JZ OVER;
MOV [BX+SI],AH;
INC SI;
JMP WRITE_END;

OVER:
      
ret


  